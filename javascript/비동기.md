# ë¹„ë™ê¸°
* ë™ê¸° ì½”ë“œì™€ ë‹¬ë¦¬, ì½”ë“œê°€ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ
* ì¼ë°˜ì ìœ¼ë¡œ íƒ€ì„ì•„ì›ƒ, ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ë“± ì‹œê°„ì´ ê±¸ë¦¬ëŠ” ì‘ì—…ì— ì‚¬ìš©
* JSì—”ì§„ì€ ì½”ë“œë¥¼ ì‹±ê¸€ ìŠ¤ë ˆë“œë¡œ ì²˜ë¦¬í•˜ë©° ë¹„ë™ê¸° ì½”ë“œê°€ ìˆì„ ê²½ìš° ìë°”ìŠ¤í¬ë¦½íŠ¸ ëŸ°íƒ€ì¸ í™˜ê²½ìœ¼ë¡œ ì „ë‹¬í•´ ë©€í‹° ìŠ¤ë ˆë“œë¡œ ë™ì‹œì— ì‹¤í–‰
* ì™„ë£Œëœ ë¹„ë™ê¸° ì½”ë“œë“¤ì€ íƒœìŠ¤í¬íì— ìŒ“ì¸ ë’¤ ì´ë²¤íŠ¸ ë£¨í”„ë¥¼ ê±°ì³ ë‹¤ì‹œ ì½”ë“œ ì‹¤í–‰ ìœ¼ë¡œ ë„˜ì–´ì˜´
* ë™ê¸° ì½”ë“œê°€ ëª¨ë‘ ì‹¤í–‰ëœ ë‹¤ìŒ ë¹„ë™ê¸° ì½”ë“œê°€ ì‹¤í–‰ë¨
## ì½œë°± ì§€ì˜¥
```js
setTimeout(() => {
  console.log(1);
  setTimeout(() => {
    console.log(2);
      setTimeout(() => {
        console.log(3);
        setTimeout(() => {
          console.log(4);
          setTimeout(() => {
            console.log(5);
          }, 500);
        }, 500);
      }, 500);
  }, 500);
}, 500);
```
* ì½œë°± í•¨ìˆ˜ì•ˆì— ë˜ ë‹¤ë¥¸ ì½œë°± í•¨ìˆ˜ë¥¼ ë„£ëŠ” ìƒí™©
* íšŸìˆ˜ê°€ ë§ì„ìˆ˜ë¡ ê°€ë…ì„±ë„ ë‚®ì•„ì§€ê³  ì§ê´€ì„±ì´ ë–¨ì–´ì§

## Promise
* ì£¼ì–´ì§„ ë™ì‘ì„ ì‹¤í–‰í•  ê²ƒì´ë€ ì•½ì†
* ì¤‘ì²©ëœ ë¹„ë™ê¸° ì½”ë“œë¥¼ ê¹”ë”í•˜ê²Œ ì²˜ë¦¬
### ìƒì„±ì Promise
```js
new Promise((resolve, reject) => resolve())
```
* `resolve` - ì„±ê³µí–ˆì„ë•Œ ë°˜í™˜ê°’
* `reject` - ì‹¤íŒ¨í–ˆì„ë•Œ ë°˜í™˜ê°’
### í”„ë¡œë¯¸ìŠ¤ ì¸ìŠ¤í„´ìŠ¤
* `then` ì„ í†µí•´ ë°˜í™˜ ê²°ê³¼ì— ëŒ€í•œ ì½œë°±í•¨ìˆ˜ ì‘ì„±
* `catch` ë¥¼ í†µí•´ ì‹¤íŒ¨ ê²°ê³¼ì— ëŒ€í•œ ì½œë°±í•¨ìˆ˜ ì‘ì„±
```js
const borrow = 20;

const payWith10perc = new Promise((resolve, reject) => {
  setTimeout(() => {
    if (Math.random() < 0.5) {
      // ëˆì„ ê°’ì„ ìˆ˜ ì—†ê²Œ ë˜ì—ˆì„ ë•Œ
      reject('ì‚¬ì—… ë§í•¨'); // ë³´í†µ ì‹¤íŒ¨ì‚¬ìœ ë‚˜ ê´€ë ¨ ì„¤ëª…ì„ ë„£ìŒ
    }
    resolve(borrow * 1.1);
  }, 1000); // 1ì´ˆ í›„ ê°šê² ìŒ
});

payWith10perc
.then(result => {
  console.log(result + 'ë§Œì›');
}
.catch(msg => {
  console.error(msg);
})
.finally(() => {
  console.log('ê¸°í•œ ì¢…ë£Œ');
});
```
### ì •ì  ë©”ì„œë“œ
1. all
* í”„ë¡œë¯¸ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë“¤ì˜ ë°°ì—´ì„ ë°›ì•„ ë™ì‹œì— ì§„í–‰
* ëª¨ë‘ ì„±ê³µí•˜ë©´ `resolve`ëœ ê°’ë“¤ì„ ë°°ì—´ë¡œ ë°˜í™˜
* í•˜ë‚˜ë¼ë„ ì‹¤íŒ¨í•˜ë©´ `catch` ì‹¤í–‰
```js
Promise.all([í”„ë¡œë¯¸ìŠ¤ ì¸ìŠ¤í„´ìŠ¤..])
  .then()
  .catch()
```
2. allSettled
* ì£¼ì–´ì§„ í”„ë¡œë¯¸ìŠ¤ë“¤ì˜ ê²°ê³¼ë¥¼ ë°°ì—´ë¡œ ì¶œë ¥
* ì‹¤íŒ¨ ìœ ë¬´ ê´€ê³„ì—†ì´ `then`ìœ¼ë¡œ ë°°ì—´ ë°˜í™˜
```js
Promise.allSettled([í”„ë¡œë¯¸ìŠ¤ ì¸ìŠ¤í„´ìŠ¤..])
  .then()
```
3. any
* ê°€ì¥ ë¨¼ì € ì„±ê³µí•œ í”„ë¡œë¯¸ìŠ¤ì˜ ê²°ê³¼ë¥¼ `then`ìœ¼ë¡œ ë°˜í™˜
* ëª¨ë‘ ì‹¤íŒ¨ì‹œ ì˜¤ë¥˜ ë°œìƒ
```js
Promise.any([í”„ë¡œë¯¸ìŠ¤ ì¸ìŠ¤í„´ìŠ¤..])
  .then()
```
4. race
* ì„±ê³µì´ë“  ì‹¤íŒ¨ë“  ì²« ê²°ê³¼ë¬¼ then ë˜ëŠ” catchë¡œ ë°˜í™˜
```js
Promise.race([í”„ë¡œë¯¸ìŠ¤ ì¸ìŠ¤í„´ìŠ¤..])
  .then()
```
## async & await
* í”„ë¡œë¯¸ìŠ¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë™ì¥
* ë§ˆì¹˜ ë™ê¸° ì½”ë“œì²˜ëŸ¼ ì§ê´€ì ìœ¼ë¡œ ì½”ë”©ì„ í•  ìˆ˜ ìˆìŒ
* `await` - ì½”ë“œì˜ ì§„í–‰ì„ ë©ˆì¶”ê³  í”„ë¡œë¯¸ìŠ¤ë¡œë¶€í„° ë‹µì„ ë„ì¶œ
* `await`ì€ `async` í•¨ìˆ˜ ë˜ëŠ” ëª¨ë“ˆ ë‚´ì—ì„œë§Œ ì‚¬ìš© ê°€ëŠ¥
* ì£¼ë¡œ `try...catch` ë¬¸ê³¼ ê°™ì´ ì‚¬ìš©
```js
// ë¹Œë¦° ê¸ˆì•¡ìœ¼ë¡œ ì•½ì†ì„ í•˜ëŠ” í•¨ìˆ˜
function moneyLend (borrow) {
  return new Promise((resolve, reject) => {
    console.log(`ì±„ë¬´ ${borrow}ë§Œì›`);

    setTimeout(() => {
      if (Math.random() < 0.1) {
        reject('ì±„ë¬´ì íŒŒì‚°');
      }

      resolve(borrow * 1.1);
    }, 1000);
  });
}

async function lend5times () {
  try {
    const lend1 = await moneyLend(20);
    const lend2 = await moneyLend(lend1);
    const lend3 = await moneyLend(lend2);
    const lend4 = await moneyLend(lend3);
    const lend5 = await moneyLend(lend4);

    console.log(`ğŸ’° ë°˜ë‚© ${lend5}ë§Œì›`);
  } catch (msg) {
    console.error(msg);
  } finally{
    console.log('- - ëŒ€ê¸ˆì—… ì¢…ë£Œ - -');
  }
}
```